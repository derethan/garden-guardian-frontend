import{a as m,j as t,B as i,T as e,u as p,e as c,G as h,p as g,c as b,q as j,D as f}from"./index-DZdXfw6U.js";import{u as v}from"./useGardenFunctions-z37Ypq3m.js";import{B as y}from"./ButtonCard-6j0PDFFu.js";import{d as D}from"./AddCircleOutline-xL6hUx0w.js";import{a as x,C as W}from"./Container-5h85fXWK.js";import{S as k}from"./SummaryColumn-c0ezyN2H.js";import"./Button-QianI3wS.js";const w=({name:n})=>{const o=m();return t.jsxs(i,{name:"Header",sx:{backgroundColor:"background.lightGrey",padding:4,borderRadius:5},children:[t.jsxs(e,{variant:"h4",fontWeight:"bold",sx:{color:o.typography.primary.main},children:["Welcome back, ",n,"!"," "]}),t.jsx(e,{variant:"subtitle2",mt:1,sx:{color:o.typography.primary.subtitle},children:"Here is a quick overview of your activity since your last visit."})]})},u=({location:n,title:o,...a})=>{const r=p(),s=()=>{r(n)};return t.jsxs(y,{sx:{mt:4,mb:4,maxWidth:{xs:"100%",md:"500px"},height:"250px",backgroundColor:"background.lightGrey",boxShadow:"none",border:"3px dashed #2A2A2A","&:hover":{backgroundColor:"background.lightGrey","@media (hover: none)":{backgroundColor:"initial"}}},onClick:s,children:[t.jsx(e,{variant:"h6",color:"text.main",fontWeight:"bold",pt:2,children:o}),t.jsx(e,{variant:"h6",pt:2,pb:2,children:a.subtitle||"No Data Found"}),t.jsxs(i,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"1rem",pb:4},children:[t.jsx(D,{}),t.jsx(e,{variant:"body1",children:"Click here to Get Started"})]})]})},C=({gardens:n,gardenGroups:o,gardenPlants:a})=>t.jsx(t.Fragment,{children:n&&n.length!=0?t.jsxs(x,{variant:"light",sx:{mt:4,p:2,borderRadius:4,width:{xs:"100%",md:"80%"},maxWidth:"500px"},children:[t.jsx(e,{variant:"h6",color:"text.main",fontWeight:"bold",children:"Garden Overview"}),t.jsx(e,{variant:"caption",color:"text.subtitle",fontWeight:"bold",children:"Here is a quick snapshot of your gardens"}),t.jsx(i,{sx:{pt:4,pb:4},children:t.jsxs(e,{variant:"body2",color:"text.textDark",fontWeight:"bold",children:["You are currently managing ",n.length," garden",n.length>1?"s":"",t.jsx("br",{}),"( ",t.jsx(e,{variant:"caption",color:"text.subtitle",fontWeight:"bold",children:n.map((r,s)=>t.jsxs(e,{variant:"caption",color:"text.subtitle",fontWeight:"bold",children:[r.gardenName,s<n.length-1?", ":""]},s))})," )"]})}),t.jsxs(i,{sx:{pb:4},children:[t.jsxs(e,{variant:"body2",color:"text.main",fontWeight:"bold",children:["Here is what you have growing:"," ",t.jsxs(e,{variant:"span",color:"text.subtitle",fontWeight:"bold",children:["(",a.length," Plant",a.length>1?"s":""," )"]})]}),a.map((r,s)=>{const l=o.find(d=>d.groupID===r.groupID);return t.jsxs(e,{variant:"subtitle2",color:"text.textDark",fontWeight:"bold",pt:1,pl:10,textAlign:"left",children:[r.plantData.plantName," ",r.varietyID&&"("+r.plantData.varietyName+")"," -"," ",t.jsx(e,{component:"span",variant:"caption",color:"text.subtitle",fontWeight:"bold",children:l.groupName})]},s)})]})]}):t.jsx(u,{location:"/gardens",title:"Garden Overview",subtitle:"No gardens Found"})}),S=({device:n})=>{const{getSensorInfo:o}=g(),[a,r]=c.useState([]);return c.useEffect(()=>{async function s(){const l=await o(n);r(l)}s()},[n]),t.jsxs(x,{variant:"light",sx:{p:2,mt:2,borderRadius:4},children:[t.jsxs(i,{children:[t.jsx(e,{variant:"h6",color:"text.main",fontWeight:"bold",children:n.deviceName}),t.jsx(e,{variant:"caption",color:"text.subtitle",fontWeight:"bold",children:n.deviceID})]}),a.length>0?t.jsx(h,{container:!0,pt:4,children:a.map((s,l)=>t.jsx(h,{item:!0,xs:6,sm:4,md:12,lg:6,p:1,children:t.jsxs(i,{sx:{backgroundColor:"background.shaded",padding:"0.5em"},children:[t.jsx(e,{variant:"body1",color:"text.cardTitle",fontWeight:"bold",children:s.sensor}),t.jsx(e,{variant:"caption",color:s.sensorStatus==="Online"?"success.main":"error.main",fontWeight:"bold",children:s.sensorStatus})]})},l))}):t.jsx(e,{variant:"body1",color:"text.textDark",pt:2,children:"No sensors found"})]},n.deviceID)},G=({user:n,hasDevice:o,devices:a})=>t.jsx(t.Fragment,{children:o?t.jsxs(x,{variant:"light",sx:{m:4,p:2,borderRadius:4,width:{xs:"100%",md:"80%"}},children:[t.jsx(e,{variant:"h6",color:"text.main",fontWeight:"bold",children:"Sensor Overview"}),t.jsx(e,{variant:"caption",color:"text.subtitle",fontWeight:"bold",children:"Here is a quick snapshot of your devices"}),t.jsx(i,{sx:{display:"flex",flexDirection:"column",gap:2,mt:2},children:a.map(r=>t.jsx(S,{device:r},r.deviceID))})]}):t.jsx(u,{title:"No Sensors Found",subtitle:"No sensors have been added to your account yet.",location:"/sensor"})}),T=()=>{const{user:n,hasDevice:o,devices:a}=b(),{gardens:r,gardenGroups:s,gardenPlants:l}=j(),{updateGardenData:d}=v();return c.useEffect(()=>{d()},[]),t.jsxs(W,{maxWidth:"none",sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",paddingTop:4},children:[t.jsxs(i,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:2,width:o?{xs:"100%",md:"70%"}:"100%"},children:[t.jsx(w,{name:n.name.split(" ")[0]}),t.jsxs(i,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},justifyContent:"space-evenly",alignItems:{xs:"center",md:"flex-start"},gap:4,width:"100%"},children:[t.jsx(C,{gardens:r,gardenGroups:s,gardenPlants:l}),t.jsx(G,{user:n,hasDevice:o,devices:a})]})]}),o&&t.jsxs(i,{sx:{width:"30%",display:{xs:"none",md:"flex"},gap:2},children:[t.jsx(f,{orientation:"vertical",flexItem:!0,sx:{display:{xs:"none",md:"block"}}}),t.jsx(k,{})]})]})};export{T as default};
